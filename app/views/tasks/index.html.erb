<p id="notice"><%= notice %></p>

<h1>Application Tasks</h1>
A tasks runs a process inside an instance, intended to consume many cycles and thus trigger auto-scaling.


<%= link_to 'Click here to create a new Task.', {:controller=>"tasks",:action=>"new",:auto_start=>"true"}%>

<br/>
<br/>

<table>
  <thead>
    <tr>
      <th>Task local to instance with MAC</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @tasks.each do |task| %>
     <%
         color = "#"+task.name[-2..-1] + task.name[-5..-4] + task.name[-8..-7]
     %>
      <tr>
        <td><span style="color: <%=color%>; "><%= task.name %> (PID: <%= (task.pid.nil? ? "not running" : task.pid)%>) </span></td>
        <td><%= link_to 'Run', work_task_path(task) %></td>
        <td><%= link_to 'Destroy', task, method: :delete %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to 'New Task - Not running', new_task_path %><br/>


